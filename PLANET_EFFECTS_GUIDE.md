# 행성별 방해 효과 구현 가이드

## 📋 개요
테트리스 게임에 행성별 특수 방해 효과를 추가했습니다. 각 행성은 고유한 난이도와 방해 효과를 가지고 있습니다.

## 🌟 구현된 방해 효과

### 1. 태양 (Sun)
- **효과**: 10초마다 구멍이 3개 뚫린 가비지 라인이 올라옴
- **난이도**: 1
- **구현 위치**: `useMiniTetris.js` - `addGarbageLine` 함수

### 2. 수성 (Mercury)
- **효과**: 없음
- **난이도**: 2
- **비고**: 추후 효과 추가 가능

### 3. 금성 (Venus)
- **효과**: Next 블록을 볼 수 없음
- **난이도**: 3
- **구현 위치**: `MiniTetrisPage.js` - Next 영역 조건부 렌더링

### 4. 지구 (Earth)
- **효과**: 없음 (기본 난이도)
- **난이도**: 4
- **비고**: 방해 효과가 없는 표준 모드

### 5. 화성 (Mars)
- **효과**: 아래 화살표(↓)를 누르면 하드 드롭처럼 바닥까지 떨어짐
- **난이도**: 5
- **구현 위치**: `useMiniTetris.js` - `handleKeyPress` 함수

### 6. 목성 (Jupiter)
- **효과**: 10초마다 2초 동안 모든 블록이 투명해짐
- **난이도**: 6
- **구현 위치**: `useMiniTetris.js` - `startInvisibleEffect` 함수, `gameLoop` 렌더링

### 7. 토성 (Saturn)
- **효과**: Hold 기능 비활성화
- **난이도**: 7
- **구현 위치**: `useMiniTetris.js` - `holdPiece` 함수

### 8. 천왕성 (Uranus)
- **효과**: 좌우 조작 반전 (왼쪽 키 → 오른쪽 이동, 오른쪽 키 → 왼쪽 이동)
- **난이도**: 8
- **구현 위치**: `useMiniTetris.js` - `movePiece` 함수

### 9. 해왕성 (Neptune)
- **효과**: 블록 낙하 속도 3배
- **난이도**: 9
- **구현 위치**: `useMiniTetris.js` - `gameLoop` 함수

## 📁 주요 파일 구조

```
frontend/src/
├── config/
│   └── planetEffects.js          # 행성별 방해 효과 설정 파일
├── pages/
│   ├── DifficultySelectPage.js   # 행성 선택 화면 (행성 ID 전달)
│   ├── MiniTetrisPage.js         # 게임 메인 페이지 (금성 효과 적용)
│   └── tetris/
│       └── hooks/
│           └── useMiniTetris.js  # 게임 로직 및 방해 효과 구현
```

## 🎮 테스트 방법

### 1. 태양 (Sun) 테스트
1. 난이도 선택에서 태양 선택
2. 게임 시작 후 10초 대기
3. 구멍이 3개 뚫린 회색 라인이 아래에서 올라오는지 확인

### 2. 금성 (Venus) 테스트
1. 난이도 선택에서 금성 선택
2. 게임 시작
3. 오른쪽 Next 영역이 표시되지 않는지 확인

### 3. 화성 (Mars) 테스트
1. 난이도 선택에서 화성 선택
2. 게임 중 아래 화살표(↓) 키 누르기
3. 블록이 즉시 바닥까지 떨어지는지 확인

### 4. 목성 (Jupiter) 테스트
1. 난이도 선택에서 목성 선택
2. 게임 시작 후 10초 대기
3. 2초 동안 모든 블록이 거의 투명해지는지 확인

### 5. 토성 (Saturn) 테스트
1. 난이도 선택에서 토성 선택
2. 게임 중 Shift 키 누르기
3. Hold 기능이 작동하지 않는지 확인

### 6. 천왕성 (Uranus) 테스트
1. 난이도 선택에서 천왕성 선택
2. 왼쪽 화살표(←) 키 누르기 → 블록이 오른쪽으로 이동
3. 오른쪽 화살표(→) 키 누르기 → 블록이 왼쪽으로 이동

### 7. 해왕성 (Neptune) 테스트
1. 난이도 선택에서 해왕성 선택
2. 게임 시작
3. 블록이 평소보다 3배 빠르게 떨어지는지 확인

## 🔧 설정 파일 수정 방법

`frontend/src/config/planetEffects.js` 파일에서 각 행성의 효과를 쉽게 수정할 수 있습니다.

### 예시: 태양의 가비지 라인 간격 변경
```javascript
SUN: {
  id: 'sun',
  name: '태양',
  difficulty: 1,
  effects: {
    garbageLines: {
      enabled: true,
      interval: 5000,  // 10000에서 5000으로 변경 (5초마다)
      holesCount: 3,
      linesCount: 1
    }
  }
}
```

### 예시: 해왕성의 속도 배율 변경
```javascript
NEPTUNE: {
  id: 'neptune',
  name: '해왕성',
  difficulty: 9,
  effects: {
    dropSpeedMultiplier: {
      enabled: true,
      multiplier: 5  // 3에서 5로 변경 (5배 속도)
    }
  }
}
```

## 🐛 알려진 이슈 및 주의사항

1. **가비지 라인 색상**: 현재 회색(#555555)으로 고정되어 있습니다.
2. **투명화 효과**: 목성 효과 시 Ghost Piece도 함께 투명해집니다.
3. **행성 ID**: URL 파라미터로 전달되는 행성 ID는 소문자 영문이어야 합니다.
   - 올바른 예: `/minitetris/sun`, `/minitetris/mars`
   - 잘못된 예: `/minitetris/Sun`, `/minitetris/1`

## 📝 추가 개발 아이디어

### 수성 효과 제안
- 온도 차를 표현하여 일정 시간마다 블록 색상이 변경
- 또는 블록 낙하 속도가 랜덤하게 변화

### 효과 조합
여러 행성의 효과를 조합한 "하드코어 모드" 추가 가능

## ✅ 체크리스트

- [x] 행성별 방해 효과 설정 파일 생성
- [x] 9개 행성 효과 구현
- [x] 난이도 선택 화면에서 행성 ID 전달
- [x] 행성 설명에 방해 효과 정보 추가
- [x] 타이머 기반 효과 (태양, 목성) 구현
- [x] 조작 변경 효과 (화성, 천왕성) 구현
- [x] UI 변경 효과 (금성, 토성) 구현
- [x] 게임 속도 변경 효과 (해왕성) 구현

## 🎉 완료!

모든 행성별 방해 효과가 성공적으로 구현되었습니다. 게임을 실행하고 각 행성을 선택하여 테스트해보세요!
